<!DOCTYPE html>
<html>
<head>
<title>the omega life</title>
<style>
	#omegastage
	{
		background-color:#000;
		position:absolute;
		top:0px;
		left:0px;
		width:100%;
		height:100%;
		overflow:hidden;
	}
	.emojiRow {
		width:100%;
		overflow:hidden;		
	}
	.emojiRow img {
		
	}
	body
	{
		background-color:#000;
		padding:0px;
		margin:0px;
		width:100%;
		height:100%;
		overflow:hidden;
	}
</style>
</head>
<body>
<div id="omegastage">
</div>
<script>	
	const DefaultOmegaArray = [
		'5g',
		'anxiety',
		'bluedot',
		'boom',
		'clusterduck',
		'crayon',
		'deletethis',
		'duck',
		'eyeshake',
		'fire',
		'hedgeparty',
		'infinity',
		'kek',
		'lol',
		'nice',
		'plusthree',
		'powerup',
		'powerup2',
		'siren',
		'that',
		'thatthat',
		'this',
		'thisthis',
		'thonk',
		'true',
		'ty',
		'yw',
	];
	
	const DefaultEmojiSize = 25;
	 
	let omegaArray = DefaultOmegaArray;
	let emojiSize = DefaultEmojiSize;
	
	function getQuery(q) {
	   return (window.location.search.match(new RegExp('[?&]' + q + '=([^&]+)')) || [, null])[1];
	}
	
	function getRandomEmojiFileName() {
		const randomEmojiIndex = Math.floor(Math.random() * omegaArray.length);
		return omegaArray[randomEmojiIndex] + ".gif";
	}
	
	function getHtmlForEmojiImgTag(filename) {
		return `<img src="${filename}" width=${emojiSize} height=${emojiSize}>`;
	}
	
	var customArray = getQuery("omegaArray");
	var customSize = getQuery("emojiSize");
	
	emojiSize = customSize || emojiSize;
	
	if(customArray) {
		omegaArray = customArray.split(',');
	}
	
	const windowHeight = window.innerHeight;
	const windowWidth = window.innerWidth;
	
	const minimumRows = Math.ceil(windowHeight/emojiSize);
	const minimumColumns = Math.floor(windowWidth/emojiSize);
	
	let htmlToAppend = "";
	
	for(let i=0; i< minimumRows; i++) {
		let htmlForRow = `<div class="emojiRow" style="height: ${emojiSize}px">`;
		for(let j=0; j< minimumColumns; j++) {
			const emojiHtmlToInsert = getHtmlForEmojiImgTag(getRandomEmojiFileName());
			htmlForRow += emojiHtmlToInsert;
		}
		htmlForRow += '</div>';
		htmlToAppend += htmlForRow;
	}	
	
	const omegaStage = document.getElementById("omegastage");
	omegaStage.innerHTML = htmlToAppend;
</script>
</body>
</html>